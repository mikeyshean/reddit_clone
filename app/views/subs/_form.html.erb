<% action_url = sub.persisted? ? sub_url(sub) : subs_url %>
<% button_text = sub.persisted? ? "Update" : "Create Sub" %>

<form action="<%= action_url %>" method="post">
  <%= authenticity_token %>

  <p><label for="sub_title">Sub Name:</label></p>
  <input
    type="text"
    name="sub[title]"
    id="sub_title"
    value="<%= sub.title %>">
  <br>

  <p><label for="sub_description">Description:</label></p>
  <input
    type="text"
    name="sub[description]"
    id="sub_description"
    value="<%= sub.description %>">
  <br>

  <p><button><%= button_text %></button>
    <% if button_text == "Update" %>
      <%= button_to "Delete", sub_url(sub),
        method: :delete,
        data: {
        confirm: "Are you sure you want to delete this sub?"
      } %>
    <% end %></p>
</form>
